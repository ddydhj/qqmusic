(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-58756b23"],{"4c86":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"song-list"},[a("MusicLoading",{attrs:{loading:t.loading}}),a("MusicHeader"),a("div",{staticClass:"container"},[t._m(0),a("div",{staticClass:"categories"},t._l(t.categories,(function(e,s){return a("div",{key:s,staticClass:"category"},[a("ul",{staticClass:"clearfix"},["语种"==e.categoryName?t._l(e.subCate.filter((function(t,e){return e<5})),(function(e,s){return a("li",{key:s},[a("router-link",{staticClass:"item ellipsis",attrs:{to:"/songlist/"+e.id}},[t._v(" "+t._s(e.categoryName)+" ")])],1)})):t._l(e.subCate.filter((function(t,e){return e<8})),(function(e,s){return a("li",{key:s},[a("router-link",{staticClass:"item ellipsis",attrs:{to:"/songlist/"+e.id}},[t._v(" "+t._s(e.categoryName)+" ")])],1)})),a("li",[a("el-popover",{attrs:{placement:"bottom",width:"350",trigger:"click"}},[a("a",{staticClass:"item more",attrs:{slot:"reference",href:"javascript:void(0)"},slot:"reference"},[t._v(" 更多"),a("i")]),a("div",{staticClass:"more-content"},[a("ul",{staticClass:"clearfix"},["语种"==e.categoryName?t._l(e.subCate.filter((function(t,e){return e>=5})),(function(e,s){return a("li",{key:s},[a("router-link",{staticClass:"item ellipsis",attrs:{to:"/songlist/"+e.id}},[t._v(" "+t._s(e.categoryName)+" ")])],1)})):t._l(e.subCate.filter((function(t,e){return e>=8})),(function(e,s){return a("li",{key:s},[a("router-link",{staticClass:"item ellipsis",attrs:{to:"/songlist/"+e.id}},[t._v(" "+t._s(e.categoryName)+" ")])],1)}))],2)])])],1)],2)])})),0),a("div",{staticClass:"songs"},[a("div",{staticClass:"list-head"},[t._v(" "+t._s(t.selectedCagegoryName)+" "),"全部歌单"!=t.selectedCagegoryName?a("span",{staticClass:"iconfont",on:{click:function(e){return t.$router.push({name:"SongList"})}}},[t._v("")]):t._e()]),a("div",{staticClass:"list"},t._l(t.songs,(function(e,s){return a("div",{key:s,staticClass:"song"},[a("router-link",{attrs:{to:"/songdetail/"+e.id}},[a("div",{staticClass:"logo"},[a("img",{attrs:{src:e.pic,alt:e.title}}),a("div",{staticClass:"play-bar"},[a("span",{staticClass:"iconfont"},[t._v("")])])]),a("div",{staticClass:"title"},[t._v(" "+t._s(e.title)+" ")])])],1)})),0),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total,"page-size":t.pageSize,"current-page":t.pageNo},on:{"current-change":t.changePage}})],1),a("MusicLive")],1),a("MusicFooter")],1)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"titles"},[a("h2",[a("span",{staticClass:"iconfont"},[t._v("")]),t._v(" 语种")]),a("h2",[a("span",{staticClass:"iconfont"},[t._v("")]),t._v(" 流派")]),a("h2",[a("span",{staticClass:"iconfont"},[t._v("")]),t._v(" 情感")]),a("h2",[a("span",{staticClass:"iconfont"},[t._v("")]),t._v(" 场景")]),a("h2",[a("span",{staticClass:"iconfont"},[t._v("")]),t._v(" 主题")])])}];a("b4fb"),a("fe59"),a("e18c"),a("08ba");function n(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var o=a("5976"),r=a.n(o),c={name:"SongList",data:function(){var t;return t={categories:[],selectedCagegoryName:"全部歌单",pageSize:50,songs:[],loading:!1,total:0},n(t,"pageSize",50),n(t,"pageNo",this.$route.query.pageNo-0||1),t},beforeRouteEnter:function(t,e,a){a((function(t){t.getCategories(),t.getSongs(t.pageNo,t.$route.params.subCateId)}))},methods:{changePage:function(t){this.pageNo=t;var e=this.$route.params.subCateId-0||"";this.$router.push({name:"SongList",params:{subCateId:e},query:{pageNo:t}})},getCategories:function(){var t=this;this.loading=!0,r.a.get("/api/v1/tracklist/category").then((function(e){t.categories=e.data.data,t.loading=!1})).catch((function(e){t.loading=!1}))},getSongs:function(t,e){var a=this;t||(t=1),e||(e="");var s="/api/v1/tracklist/list?pageNo=".concat(t,"&pageSize=").concat(this.pageSize,"&subCateId=").concat(e);this.loading=!0,r.a.get(s).then((function(t){a.songs=t.data.data.result,a.total=t.data.data.total})).finally((function(){a.loading=!1}))}},beforeRouteUpdate:function(t,e,a){var s=this;this.getCategories(),this.pageNo=t.query.pageNo-0||1,this.getSongs(this.pageNo,t.params.subCateId),t.params.subCateId?this.categories.forEach((function(e){e.subCate.forEach((function(e){e.id!=t.params.subCateId||(s.selectedCagegoryName=e.categoryName)}))})):this.selectedCagegoryName="全部歌单",a()}},l=c,u=(a("631c"),a("9ca4")),g=Object(u["a"])(l,s,i,!1,null,"55471d7e",null);e["default"]=g.exports},"631c":function(t,e,a){"use strict";var s=a("9512"),i=a.n(s);i.a},9512:function(t,e,a){},b4fb:function(t,e,a){"use strict";var s=a("1c8b"),i=a("efe2"),n=a("74e7"),o=a("a719"),r=a("3553"),c=a("d88d"),l=a("1bbd"),u=a("1ca1"),g=a("1ea7"),f=a("90fb"),d=a("f594"),p=f("isConcatSpreadable"),v=9007199254740991,C="Maximum allowed index exceeded",h=d>=51||!i((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),m=g("concat"),_=function(t){if(!o(t))return!1;var e=t[p];return void 0!==e?!!e:n(t)},b=!h||!m;s({target:"Array",proto:!0,forced:b},{concat:function(t){var e,a,s,i,n,o=r(this),g=u(o,0),f=0;for(e=-1,s=arguments.length;e<s;e++)if(n=-1===e?o:arguments[e],_(n)){if(i=c(n.length),f+i>v)throw TypeError(C);for(a=0;a<i;a++,f++)a in n&&l(g,f,n[a])}else{if(f>=v)throw TypeError(C);l(g,f++,n)}return g.length=f,g}})}}]);
//# sourceMappingURL=chunk-58756b23.e38deabf.js.map